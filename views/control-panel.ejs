<div class="row">
    <div class="col-4">
        <div class="row">
            <%- include('partials/category-buttons'); %>
        </div>
    </div>
    <div class="col-4">
        <table id="player-table" class="table table-hover text-center compact hover order-column stripe">
            <thead>
                <tr>
                    <th scope="col"><%- controlPanel.playersTableHead.name %></th>
                    <th scope="col"><%- controlPanel.playersTableHead.points %></th>
                    <th scope="col"><%- controlPanel.playersTableHead.authorizeBtn %></th>
                </tr>
            </thead>
            <tbody id="player-table-body">
                <%- include('partials/players'); %>
            </tbody>
        </table>
    </div>
    <div class="col-4">
        <div class="row">
            <div class="form-group max-width default-padding col-6">
                <label for="timer"><%- controlPanel.timer %></label>
                <input type="numbers" class="form-control" id="timer">
                <small class="form-text text-muted"><%- controlPanel.timerLegend %></small>
            </div>
            <div class="form-group max-width default-padding col-6">
                <label for="point-value"><%- controlPanel.pointValue %></label>
                <input type="numbers" class="form-control" id="point-value">
                <small class="form-text text-muted"><%- controlPanel.pointValueLegend %></small>
            </div>
            <div class="form-group max-width default-padding col-6">
                <button id="evaluate-btn" type="button" class="btn btn-info btn btn-block"><%- controlPanel.evaluateBtn %></button>
            </div>
            <div class="form-group max-width default-padding col-6">
                <button id="logout-everyone-btn" type="button" class="btn btn-warning btn btn-block"><%- controlPanel.logoutEveryoneBtn %></button>
            </div>
        </div>
    </div>
    <div id="evaluation-table-container" class="col-12">
        <table id="evaluation-table" class="table table-hover text-center compact hover order-column stripe">
            <thead>
                <tr>
                    <th scope="col"><%- controlPanel.evaluationTableHead.name %></th>
                    <th scope="col"><%- controlPanel.evaluationTableHead.timeLeft %></th>
                    <th scope="col"><%- controlPanel.evaluationTableHead.answer %></th>
                    <th scope="col"><%- controlPanel.evaluationTableHead.evaluate %></th>
                </tr>
            </thead>
            <tbody id="evaluation-table-body">
            </tbody>
        </table>
    </div>
</div>
<script src="/socket.io/socket.io.js"></script>
<script>
    let socket = io();
    let timer = $('#timer');
    let pointValue = $('#point-value');

    $(document).ready(() => {
        $('#player-table').DataTable({
            paging: false,
            searching: false,
            "order": [[ 1, 'desc' ]]
        });
        $('#evaluation-table').DataTable({
            paging: false,
            searching: false,
            "order": [[ 1, 'desc' ]]
        });
        removeRedundantElements();
        socket.emit('postAdminSocketId');
        timer.val(0);
        pointValue.val(2);
    });

    function addPlayerToList(player) {
        let playerListHtml = playerTableBody.html();
        let socketId = player.socket_id;
        playerListHtml += '<tr id="' + socketId + '">' +
            '                   <td>' + player.name + '</td>' +
            '                   <td id="' + socketId + '-point">' + player.point + '</td>' +
            '                   <td>' +
            '                       <button type="button" class="btn btn-info btn-sm btn-authorize" data-socket-id="' + socketId + '">' +
            '                           <%= controlPanel.authorizeBtn %>' +
            '                       </button>' +
            '                   </td>' +
            '               </tr>';
        playerTableBody.html(playerListHtml);
    }
</script>
<script src="js/control-panel.js"></script>
<style>
    #logo-container {
        display: none;
    }


    .container {
        max-width: 100%;
    }
</style>